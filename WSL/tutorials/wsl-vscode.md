---
title: Приступая к работе с VS Code с подсистемой Windows для Linux
description: Узнайте, как настроить VS Code для создания и отладки кода с помощью подсистемы Windows для Linux.
keywords: WSL, Windows, виндовссубсистем, GNU, Linux, bash, VS Code, удаленное расширение, отладка, путь, Visual Studio
ms.date: 05/28/2020
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: f5d7bd4f582f504ea3c4bd814454b1dc881ffed2
ms.sourcegitcommit: 97cc93f8e26391c09a31a4ab42c4b5e9d98d1c32
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/22/2020
ms.locfileid: "86948658"
---
# <a name="get-started-using-visual-studio-code-with-windows-subsystem-for-linux"></a><span data-ttu-id="173d2-104">Приступая к работе с Visual Studio Code с подсистемой Windows для Linux</span><span class="sxs-lookup"><span data-stu-id="173d2-104">Get started using Visual Studio Code with Windows Subsystem for Linux</span></span>

<span data-ttu-id="173d2-105">Visual Studio Code, вместе с расширением Remote-WSL, позволяет использовать WSL в качестве среды разработки для полной времени непосредственно из VS Code.</span><span class="sxs-lookup"><span data-stu-id="173d2-105">Visual Studio Code, along with the Remote - WSL extension, enables you to use WSL as your full-time development environment directly from VS Code.</span></span> <span data-ttu-id="173d2-106">Вы можете выбрать один из следующих вариантов.</span><span class="sxs-lookup"><span data-stu-id="173d2-106">You can:</span></span>

* <span data-ttu-id="173d2-107">Разработка в среде под управлением Linux</span><span class="sxs-lookup"><span data-stu-id="173d2-107">develop in a Linux-based environment</span></span>
* <span data-ttu-id="173d2-108">Использование цепочек инструментов и служебных программ для Linux</span><span class="sxs-lookup"><span data-stu-id="173d2-108">use Linux-specific toolchains and utilities</span></span>
* <span data-ttu-id="173d2-109">Запуск и отладка приложений Linux с помощью Windows с сохранением доступа к средствам повышения производительности, таким как Outlook и Office</span><span class="sxs-lookup"><span data-stu-id="173d2-109">run and debug your Linux-based applications from the comfort of Windows while maintaining access to productivity tools like Outlook and Office</span></span>
* <span data-ttu-id="173d2-110">Использование встроенного терминала VS Code для запуска дистрибутива Linux по выбору</span><span class="sxs-lookup"><span data-stu-id="173d2-110">use the VS Code built-in terminal to run your Linux distribution of choice</span></span>
* <span data-ttu-id="173d2-111">Воспользуйтесь преимуществами VS Code функций, таких как [завершение кода IntelliSense](https://code.visualstudio.com/docs/editor/intellisense), [linting](https://code.visualstudio.com/docs/python/linting), [Поддержка отладки](https://code.visualstudio.com/docs/nodejs/nodejs-debugging), [фрагменты кода](https://code.visualstudio.com/docs/editor/userdefinedsnippets)и [модульное тестирование](https://code.visualstudio.com/docs/python/testing) .</span><span class="sxs-lookup"><span data-stu-id="173d2-111">take advantage of VS Code features like [Intellisense code completion](https://code.visualstudio.com/docs/editor/intellisense), [linting](https://code.visualstudio.com/docs/python/linting), [debug support](https://code.visualstudio.com/docs/nodejs/nodejs-debugging), [code snippets](https://code.visualstudio.com/docs/editor/userdefinedsnippets), and [unit testing](https://code.visualstudio.com/docs/python/testing)</span></span>
* <span data-ttu-id="173d2-112">Простота управления версиями с помощью встроенной [поддержки Git](https://code.visualstudio.com/docs/editor/versioncontrol#_git-support) VS Code</span><span class="sxs-lookup"><span data-stu-id="173d2-112">easily manage your version control with VS Code's built-in [Git support](https://code.visualstudio.com/docs/editor/versioncontrol#_git-support)</span></span>
* <span data-ttu-id="173d2-113">выполнение команд и VS Code расширений непосредственно в проектах WSL</span><span class="sxs-lookup"><span data-stu-id="173d2-113">run commands and VS Code extensions directly on your WSL projects</span></span>
* <span data-ttu-id="173d2-114">Измените файлы в Linux или смонтированной файловой системе Windows (например,/МНТ/к), не беспокоясь о проблемах с путями, двоичной совместимости или других задачах, связанных с разными операционными системами.</span><span class="sxs-lookup"><span data-stu-id="173d2-114">edit files in your Linux or mounted Windows filesystem (for example /mnt/c) without worrying about pathing issues, binary compatibility, or other cross-OS challenges</span></span>

## <a name="install-vs-code-and-the-remote-wsl-extension"></a><span data-ttu-id="173d2-115">Установка VS Code и расширения Remote WSL</span><span class="sxs-lookup"><span data-stu-id="173d2-115">Install VS Code and the Remote WSL extension</span></span>

* <span data-ttu-id="173d2-116">Перейдите на [страницу установки VS Code](https://code.visualstudio.com/download) и выберите двоичный установщик 32 или 64.</span><span class="sxs-lookup"><span data-stu-id="173d2-116">Visit the [VS Code install page](https://code.visualstudio.com/download) and select the 32 or 64 bit installer.</span></span> <span data-ttu-id="173d2-117">Установите Visual Studio Code в Windows (не в файловой системе WSL).</span><span class="sxs-lookup"><span data-stu-id="173d2-117">Install Visual Studio Code on Windows (not in your WSL file system).</span></span>

* <span data-ttu-id="173d2-118">При появлении запроса на **Выбор дополнительных задач** во время установки обязательно установите флажок **Добавить в путь** , чтобы можно было легко открыть папку в WSL с помощью команды Code.</span><span class="sxs-lookup"><span data-stu-id="173d2-118">When prompted to **Select Additional Tasks** during installation, be sure to check the **Add to PATH** option so you can easily open a folder in WSL using the code command.</span></span>

* <span data-ttu-id="173d2-119">Установите [Пакет расширений для удаленной разработки](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack).</span><span class="sxs-lookup"><span data-stu-id="173d2-119">Install the [Remote Development extension pack](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack).</span></span> <span data-ttu-id="173d2-120">Этот пакет расширений включает расширение Remote-WSL в дополнение к расширениям Remote-SSH и Remote-Container, что позволяет открывать любую папку в контейнере, на удаленном компьютере или в WSL.</span><span class="sxs-lookup"><span data-stu-id="173d2-120">This extension pack includes the Remote - WSL extension, in addition to the Remote - SSH, and Remote - Containers extensions, enabling you to open any folder in a container, on a remote machine, or in WSL.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="173d2-121">Чтобы установить расширение Remote-WSL, потребуется версия [1,35](https://code.visualstudio.com/updates/v1_35) или более поздняя VS Code.</span><span class="sxs-lookup"><span data-stu-id="173d2-121">In order to install the Remote-WSL extension, you will need the [1.35 May release](https://code.visualstudio.com/updates/v1_35) version or later of VS Code.</span></span> <span data-ttu-id="173d2-122">Не рекомендуется использовать WSL в VS Code без расширения Remote-WSL, так как будет потеряна поддержка автоматического завершения, отладки, linting и т. д. Забавный факт. это расширение WSL устанавливается в $HOME/.вскоде/екстенсионс (введите команду `ls $HOME\.vscode\extensions\` в PowerShell).</span><span class="sxs-lookup"><span data-stu-id="173d2-122">We do not recommend using WSL in VS Code without the Remote-WSL extension as you will lose support for auto-complete, debugging, linting, etc. Fun fact: this WSL extension is installed in $HOME/.vscode/extensions (enter the command `ls $HOME\.vscode\extensions\` in PowerShell).</span></span>

## <a name="update-your-linux-distribution"></a><span data-ttu-id="173d2-123">Обновление дистрибутива Linux</span><span class="sxs-lookup"><span data-stu-id="173d2-123">Update your Linux distribution</span></span>

<span data-ttu-id="173d2-124">В некоторых дистрибутивах WSL Linux отсутствуют библиотеки, необходимые для запуска сервера VS Code.</span><span class="sxs-lookup"><span data-stu-id="173d2-124">Some WSL Linux distributions are lacking libraries that are required by the VS Code server to start up.</span></span> <span data-ttu-id="173d2-125">Вы можете добавить дополнительные библиотеки в дистрибутив Linux с помощью диспетчера пакетов.</span><span class="sxs-lookup"><span data-stu-id="173d2-125">You can add additional libraries into your Linux distribution by using its package manager.</span></span>

<span data-ttu-id="173d2-126">Например, чтобы обновить Debian или Ubuntu, используйте:</span><span class="sxs-lookup"><span data-stu-id="173d2-126">For example, to update Debian or Ubuntu, use:</span></span>

```bash
sudo apt-get update
```

<span data-ttu-id="173d2-127">Чтобы добавить wget (для получения содержимого с веб-серверов) и CA-Certificates (чтобы разрешить приложениям на основе SSL проверять подлинность SSL-соединений), введите:</span><span class="sxs-lookup"><span data-stu-id="173d2-127">To add wget (to retrieve content from web servers) and ca-certificates (to allow SSL-based applications to check for the authenticity of SSL connections), enter:</span></span>

```bash
sudo apt-get install wget ca-certificates
```

## <a name="open-a-wsl-project-in-visual-studio-code"></a><span data-ttu-id="173d2-128">Откройте проект WSL в Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="173d2-128">Open a WSL project in Visual Studio Code</span></span>

### <a name="from-the-command-line"></a><span data-ttu-id="173d2-129">Из командной строки</span><span class="sxs-lookup"><span data-stu-id="173d2-129">From the command-line</span></span>

<span data-ttu-id="173d2-130">Чтобы открыть проект из дистрибутива WSL, откройте командную строку распространения и введите:`code .`</span><span class="sxs-lookup"><span data-stu-id="173d2-130">To open a project from your WSL distribution, open the distribution's command line and enter: `code .`</span></span>

![Открыть проект WSL с VS Code удаленным сервером](../media/wsl-open-vs-code.gif)

### <a name="from-vs-code"></a><span data-ttu-id="173d2-132">Из VS Code</span><span class="sxs-lookup"><span data-stu-id="173d2-132">From VS Code</span></span>

<span data-ttu-id="173d2-133">Кроме того, можно получить доступ к дополнительным VS Code удаленным параметрам с помощью ярлыка: `CTRL+SHIFT+P` в VS Code, чтобы открыть палитру команд.</span><span class="sxs-lookup"><span data-stu-id="173d2-133">You can also access more VS Code Remote options by using the shortcut: `CTRL+SHIFT+P` in VS Code to bring up the command palette.</span></span> <span data-ttu-id="173d2-134">Если затем ввести, `VSCODE-REMOTE` вы увидите все доступные VS Code удаленные параметры, что позволит повторно открыть папку в удаленном сеансе, указать, какое распространение следует открыть в, и многое другое.</span><span class="sxs-lookup"><span data-stu-id="173d2-134">If you then type `VSCODE-REMOTE` you will see all of the VS Code Remote options available, allowing you to reopen the folder in a remote session, specify which distribution you want to open in, and more.</span></span>

![Палитра команд VS Code](../media/vscode-remote-command-palette.png)

## <a name="extensions-inside-of-vs-code-remote"></a><span data-ttu-id="173d2-136">Расширения в VS Code Remote</span><span class="sxs-lookup"><span data-stu-id="173d2-136">Extensions inside of VS Code Remote</span></span>

<span data-ttu-id="173d2-137">Расширение Remote-WSL разделяет VS Code в архитектуру "клиент-сервер" с помощью клиента (пользовательского интерфейса), работающего на компьютере Windows, и сервера (код, Git, подключаемые модули и т. д.), запускаемые удаленно.</span><span class="sxs-lookup"><span data-stu-id="173d2-137">The Remote-WSL extension splits VS Code into a “client-server” architecture, with the client (the user interface) running on your Windows machine and the server (your code, Git, plugins, etc) running remotely.</span></span>

<span data-ttu-id="173d2-138">При запуске VS Code удаленно на вкладке "расширения" отобразится список расширений, разделенных между локальным компьютером и дистрибутивом WSL.</span><span class="sxs-lookup"><span data-stu-id="173d2-138">When running VS Code Remote, selecting the 'Extensions' tab will display a list of extensions split between your local machine and your WSL distribution.</span></span>

<span data-ttu-id="173d2-139">Установка локального расширения, например [темы](https://marketplace.visualstudio.com/search?target=VSCode&category=Themes&sortBy=Installs), должна быть установлена только один раз.</span><span class="sxs-lookup"><span data-stu-id="173d2-139">Installing a local extension, like a [theme](https://marketplace.visualstudio.com/search?target=VSCode&category=Themes&sortBy=Installs),  only needs to be installed once.</span></span>

<span data-ttu-id="173d2-140">Некоторые расширения, такие как [расширение Python](https://marketplace.visualstudio.com/items?itemName=ms-python.python) или все, что обрабатывает такие действия, как linting или Отладка, должны устанавливаться отдельно на каждом удаленном распределении WSL.</span><span class="sxs-lookup"><span data-stu-id="173d2-140">Some extensions, like the [Python extension](https://marketplace.visualstudio.com/items?itemName=ms-python.python) or anything that handles things like linting or debugging, must be installed separately on each remote WSL distributions.</span></span> <span data-ttu-id="173d2-141">VS Code отобразит значок предупреждения ⚠ , а также зеленую кнопку "установить в WSL", если установлено локальное расширение, которое не установлено на удаленном компьютере WSL.</span><span class="sxs-lookup"><span data-stu-id="173d2-141">VS Code will display a warning icon ⚠, along with a green "Install in WSL" button, if you have an extension locally installed that is not installed on your WSL Remote.</span></span>

![VS Code с расширениями Remote-WSL и локальными расширениями](../media/vscode-remote-wsl-extensions.png)

<span data-ttu-id="173d2-143">Дополнительные сведения см. в VS Code документах:</span><span class="sxs-lookup"><span data-stu-id="173d2-143">For further information, see the VS Code docs:</span></span>

* <span data-ttu-id="173d2-144">При запуске VS Code Remote в WSL сценарии запуска оболочки запускаться не будут.</span><span class="sxs-lookup"><span data-stu-id="173d2-144">When VS Code Remote is started in WSL, no shell startup scripts are run.</span></span> <span data-ttu-id="173d2-145">Дополнительные сведения о выполнении дополнительных команд или изменении среды см. в этой [статье о сценариях расширенной настройки среды](https://code.visualstudio.com/docs/remote/wsl#_advanced-environment-setup-script) .</span><span class="sxs-lookup"><span data-stu-id="173d2-145">See this [advanced environment setup script article](https://code.visualstudio.com/docs/remote/wsl#_advanced-environment-setup-script) for more info on how to run additional commands or modify the environment.</span></span>

* <span data-ttu-id="173d2-146">Возникли проблемы при запуске VS Code из командной строки WSL?</span><span class="sxs-lookup"><span data-stu-id="173d2-146">Having problems launching VS Code from your WSL command line?</span></span> <span data-ttu-id="173d2-147">В этом [руководство по устранению неполадок](https://code.visualstudio.com/docs/remote/troubleshooting#_fixing-problems-with-the-code-command-not-working) содержатся советы по изменению переменных пути, устранению ошибок расширения, связанных с отсутствием зависимостей, устранению проблем с завершением строк Git, установке локального VSIX на удаленном компьютере, запуску окна браузера, порту localhost для блокировки, веб-сокеты не работают, ошибки при хранении данных расширения и многое другое.</span><span class="sxs-lookup"><span data-stu-id="173d2-147">This [troubleshooting guide](https://code.visualstudio.com/docs/remote/troubleshooting#_fixing-problems-with-the-code-command-not-working) includes tips on changing path variables, resolving extension errors about missing dependencies, resolving Git line ending issues, installing a local VSIX on a remote machine, launching a browser window, blocker localhost port, web sockets not working, errors storing extension data, and more.</span></span>

## <a name="install-git-optional"></a><span data-ttu-id="173d2-148">Установка Git (необязательно)</span><span class="sxs-lookup"><span data-stu-id="173d2-148">Install Git (optional)</span></span>

<span data-ttu-id="173d2-149">Если вы планируете работать совместно с другими пользователями или размещать проект на сайте с открытым исходным кодом (например, GitHub), примите во внимание, что VS Code поддерживает [управление версиями с помощью Git](https://code.visualstudio.com/docs/editor/versioncontrol#_git-support).</span><span class="sxs-lookup"><span data-stu-id="173d2-149">If you plan to collaborate with others, or host your project on an open-source site (like GitHub), VS Code supports [version control with Git](https://code.visualstudio.com/docs/editor/versioncontrol#_git-support).</span></span> <span data-ttu-id="173d2-150">Вкладка системы управления версиями в VS Code отслеживает все изменения и содержит общие команды Git (добавление, фиксация, принудительная отправка, извлечение) прямо в пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="173d2-150">The Source Control tab in VS Code tracks all of your changes and has common Git commands (add, commit, push, pull) built right into the UI.</span></span>

<span data-ttu-id="173d2-151">Сведения об установке Git см. в статье [Настройка Git для работы с подсистемой Windows для Linux](./wsl-git.md).</span><span class="sxs-lookup"><span data-stu-id="173d2-151">To install Git, see [set up Git to work with Windows Subsystem for Linux](./wsl-git.md).</span></span>

## <a name="install-windows-terminal-optional"></a><span data-ttu-id="173d2-152">Установка Терминала Windows (необязательно)</span><span class="sxs-lookup"><span data-stu-id="173d2-152">Install Windows Terminal (optional)</span></span>

<span data-ttu-id="173d2-153">Новый терминал Windows включает несколько вкладок (для быстрого переключения между командной строкой, PowerShell или несколькими дистрибутивами Linux), настраиваемыми пользовательскими привязками клавиш (создайте собственные сочетания клавиш для открытия и закрытия вкладок, копирования и вставки и т. д.), эмодзи ☺ и пользовательские темы (цветовые схемы, стили и размеры шрифтов, фоновое изображение, размытие и прозрачность).</span><span class="sxs-lookup"><span data-stu-id="173d2-153">The new Windows Terminal enables multiple tabs (quickly switch between Command Prompt, PowerShell, or multiple Linux distributions), custom key bindings (create your own shortcut keys for opening or closing tabs, copy+paste, etc.), emojis ☺, and custom themes (color schemes, font styles and sizes, background image/blur/transparency).</span></span> <span data-ttu-id="173d2-154">Дополнительные сведения см. в документации по [терминалу Windows](https://docs.microsoft.com/windows/terminal).</span><span class="sxs-lookup"><span data-stu-id="173d2-154">Learn more in the [Windows Terminal docs](https://docs.microsoft.com/windows/terminal).</span></span>

1. <span data-ttu-id="173d2-155">Скачайте [Терминал Windows из Microsoft Store](https://www.microsoft.com/store/apps/9n0dx20hk701): При установке через магазин обновления выполняются автоматически.</span><span class="sxs-lookup"><span data-stu-id="173d2-155">Get [Windows Terminal in the Microsoft Store](https://www.microsoft.com/store/apps/9n0dx20hk701): By installing via the store, updates are handled automatically.</span></span>

2. <span data-ttu-id="173d2-156">После установки откройте Терминал Windows и щелкните **Параметры**, чтобы настроить Терминал использовать файл `profile.json`.</span><span class="sxs-lookup"><span data-stu-id="173d2-156">Once installed, open Windows Terminal and select **Settings** to customize your terminal using the `profile.json` file.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="173d2-157">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="173d2-157">Additional Resources</span></span>

* [<span data-ttu-id="173d2-158">VS Code Удаленная разработка</span><span class="sxs-lookup"><span data-stu-id="173d2-158">VS Code Remote Development</span></span>](https://code.visualstudio.com/docs/remote/remote-overview)
* [<span data-ttu-id="173d2-159">Советы и рекомендации по удаленной разработке</span><span class="sxs-lookup"><span data-stu-id="173d2-159">Remote development tips and tricks</span></span>](https://code.visualstudio.com/docs/remote/troubleshooting)
* [<span data-ttu-id="173d2-160">Руководство по удаленной разработке с помощью WSL</span><span class="sxs-lookup"><span data-stu-id="173d2-160">Remote development with WSL tutorial</span></span>](https://code.visualstudio.com/remote-tutorials/wsl/getting-started)
* [<span data-ttu-id="173d2-161">Использование DOCKER с WSL 2 и VS Code</span><span class="sxs-lookup"><span data-stu-id="173d2-161">Using Docker with WSL 2 and VS Code</span></span>](https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2)
* [<span data-ttu-id="173d2-162">Использование C++ и WSL в VS Code</span><span class="sxs-lookup"><span data-stu-id="173d2-162">Using C++ and WSL in VS Code</span></span>](https://code.visualstudio.com/docs/cpp/config-wsl)
* [<span data-ttu-id="173d2-163">Удаленная служба R для Linux</span><span class="sxs-lookup"><span data-stu-id="173d2-163">Remote R Service for Linux</span></span>](https://docs.microsoft.com/visualstudio/rtvs/setting-up-remote-r-service-on-linux?view=vs-2017)

<span data-ttu-id="173d2-164">К дополнительным рекомендуемым расширениям относятся следующие:</span><span class="sxs-lookup"><span data-stu-id="173d2-164">A few additional extensions you may want to consider include:</span></span>

* <span data-ttu-id="173d2-165">[Раскладки клавиатуры других редакторов](https://marketplace.visualstudio.com/search?target=VSCode&category=Keymaps&sortBy=Downloads) — эти расширения позволят использовать необходимую раскладку при переходе в другой текстовый редактор (например, Atom, Sublime, Vim, eMacs, Notepad++ и т. п.).</span><span class="sxs-lookup"><span data-stu-id="173d2-165">[Keymaps from other editors](https://marketplace.visualstudio.com/search?target=VSCode&category=Keymaps&sortBy=Downloads): These extensions can help your environment feel right at home if you're transitioning from another text editor (like Atom, Sublime, Vim, eMacs, Notepad++, etc).</span></span>
* <span data-ttu-id="173d2-166">[Расширение синхронизации параметров](https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync) — позволяет синхронизировать параметры VS Code в разных установках, используя GitHub.</span><span class="sxs-lookup"><span data-stu-id="173d2-166">[Settings Sync](https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync): Enables you to synchronize your VS Code settings across different installations using GitHub.</span></span> <span data-ttu-id="173d2-167">Если вы работаете на разных компьютерах, это обеспечит согласованность среды между ними.</span><span class="sxs-lookup"><span data-stu-id="173d2-167">If you work on different machines, this helps keep your environment consistent across them.</span></span>
* <span data-ttu-id="173d2-168">[Отладчик для Chrome](https://code.visualstudio.com/blogs/2016/02/23/introducing-chrome-debugger-for-vs-code): после завершения разработки на стороне сервера с Linux необходимо разработать и протестировать клиентскую часть.</span><span class="sxs-lookup"><span data-stu-id="173d2-168">[Debugger for Chrome](https://code.visualstudio.com/blogs/2016/02/23/introducing-chrome-debugger-for-vs-code): Once you finish developing on the server side with Linux, you'll need to develop and test the client side.</span></span> <span data-ttu-id="173d2-169">Это расширение интегрирует редактор VS Code со службой отладки браузера Chrome, что увеличивает эффективность выполнения операций.</span><span class="sxs-lookup"><span data-stu-id="173d2-169">This extension integrates your VS Code editor with your Chrome browser debugging service, making things a bit more efficient.</span></span>
