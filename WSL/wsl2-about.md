---
title: О WSL 2
description: О WSL 2 Новая архитектура для подсистемы Windows для Linux
keywords: BashOnWindows, bash, wsl, wsl2, windows, подсистема Windows для Linux, windowssubsystem, ubuntu, debian, suse, windows 10, установка
author: mscraigloewen
ms.author: mscraigloewen
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: e9c1f043207193a5c00ecf6176f54f240aa48680
ms.sourcegitcommit: 5844c6dbf692780b86b30bd65e11820fff43b3bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2019
ms.locfileid: "67499260"
---
# <a name="about-wsl-2"></a><span data-ttu-id="c2973-104">О WSL 2</span><span class="sxs-lookup"><span data-stu-id="c2973-104">About WSL 2</span></span>

<span data-ttu-id="c2973-105">WSL 2 — это новая версия архитектуры, которая запускает подсистему Windows для Linux для запуска двоичных файлов ELF64 Linux в Windows.</span><span class="sxs-lookup"><span data-stu-id="c2973-105">WSL 2 is a new version of the architecture that powers the Windows Subsystem for Linux to run ELF64 Linux binaries on Windows.</span></span> <span data-ttu-id="c2973-106">Его основными целями являются повышение производительности файловой системы, а также добавление полной совместимости системных вызовов.</span><span class="sxs-lookup"><span data-stu-id="c2973-106">Its primary goals are to increase file system performance, as well as adding full system call compatibility.</span></span> <span data-ttu-id="c2973-107">Эта новая архитектура изменяет, как эти двоичные файлы Linux взаимодействуют с Windows и оборудованием компьютера, но по-прежнему обеспечивают тот же пользовательский интерфейс, что и в WSL 1 (Текущая общедоступная версия).</span><span class="sxs-lookup"><span data-stu-id="c2973-107">This new architecture changes how these Linux binaries interact with Windows and your computer’s hardware, but still provides the same user experience as in WSL 1 (the current widely available version).</span></span> <span data-ttu-id="c2973-108">Отдельные дистрибутивов Linux могут быть запущены как WSL 1 дистрибутив или как WSL 2 дистрибутив, могут быть обновлены или повышены в любое время, а также можно выполнять WSL 1 и WSL 2 дистрибутивов параллельно.</span><span class="sxs-lookup"><span data-stu-id="c2973-108">Individual Linux distros can be run either as a WSL 1 distro, or as a WSL 2 distro, can be upgraded or downgraded at any time, and you can run WSL 1 and WSL 2 distros side by side.</span></span> <span data-ttu-id="c2973-109">В WSL 2 используется совершенно новая архитектура, использующая реальный ядро Linux.</span><span class="sxs-lookup"><span data-stu-id="c2973-109">WSL 2 uses an entirely new architecture that uses a real Linux kernel.</span></span>

## <a name="linux-kernel-in-wsl-2"></a><span data-ttu-id="c2973-110">Ядро Linux в WSL 2</span><span class="sxs-lookup"><span data-stu-id="c2973-110">Linux kernel in WSL 2</span></span>

<span data-ttu-id="c2973-111">Ядро Linux в WSL 2 встроено в дом из последней стабильной ветви на основе источника, доступного по адресу kernel.org. Этот ядро специально настроено для WSL 2.</span><span class="sxs-lookup"><span data-stu-id="c2973-111">The Linux kernel in WSL 2 is built in house from the latest stable branch, based on the source available at kernel.org. This kernel has been specially tuned for WSL 2.</span></span> <span data-ttu-id="c2973-112">Она оптимизирована для работы с размером и производительностью, предоставляя невероятный опыт Linux в Windows и обслуживаемый с помощью обновлений Windows. Это означает, что вы получите новейшие исправления безопасности и улучшения ядра без необходимости самостоятельного управления.</span><span class="sxs-lookup"><span data-stu-id="c2973-112">It has been optimized for size and performance to give an amazing Linux experience on Windows and will be serviced through Windows updates, which means you will get the latest security fixes and kernel improvements without needing to manage it yourself.</span></span>

<span data-ttu-id="c2973-113">Кроме того, этот ядро будет открытым исходным кодом.</span><span class="sxs-lookup"><span data-stu-id="c2973-113">Additionally this kernel will be open source.</span></span> <span data-ttu-id="c2973-114">Полный исходный код для ядра Linux можно найти [здесь](https://github.com/microsoft/WSL2-Linux-Kernel).</span><span class="sxs-lookup"><span data-stu-id="c2973-114">You can find the full source code for the Linux kernel [here](https://github.com/microsoft/WSL2-Linux-Kernel).</span></span> <span data-ttu-id="c2973-115">Если вы хотите узнать больше об этом ядре, вы можете ознакомиться с [этой записью в блоге](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) , созданной командой, которая ее создала.</span><span class="sxs-lookup"><span data-stu-id="c2973-115">If you’d like to read more about this kernel you can check out [this blog post](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) written by the team that built it.</span></span>

## <a name="brief-overview-of-the-wsl-2-architecture"></a><span data-ttu-id="c2973-116">Краткий обзор архитектуры WSL 2</span><span class="sxs-lookup"><span data-stu-id="c2973-116">Brief overview of the WSL 2 architecture</span></span>

<span data-ttu-id="c2973-117">WSL 2 использует новейшую и самую новую технологию виртуализации для запуска ядра Linux внутри упрощенной служебной виртуальной машины (ВМ).</span><span class="sxs-lookup"><span data-stu-id="c2973-117">WSL 2 uses the latest and greatest in virtualization technology to run its Linux kernel inside of a lightweight utility virtual machine (VM).</span></span> <span data-ttu-id="c2973-118">Однако WSL 2 не будет традиционным интерфейсом виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="c2973-118">However, WSL 2 will NOT be a traditional VM experience.</span></span> <span data-ttu-id="c2973-119">Традиционная работа виртуальной машины может замедляться, она изолируется, потребляет много ресурсов и требует времени на управление им.</span><span class="sxs-lookup"><span data-stu-id="c2973-119">A traditional VM experience can be slow to boot up, is isolated, consumes lots of resources, and requires your time to manage it.</span></span> <span data-ttu-id="c2973-120">WSL 2 не имеет этих атрибутов.</span><span class="sxs-lookup"><span data-stu-id="c2973-120">WSL 2 does not have these attributes.</span></span> <span data-ttu-id="c2973-121">Он по-прежнему предоставляет преимущества уникальной WSL 1: Высокий уровень интеграции между Windows и Linux, очень высокая скорость загрузки, небольшой объем ресурсов и, что не требуется, не требует настройки или управления виртуальной машиной.</span><span class="sxs-lookup"><span data-stu-id="c2973-121">It will still give the remarkable benefits of WSL 1: High levels of integration between Windows and Linux, extremely fast boot times, small resource footprint, and best of all will require no VM configuration or management.</span></span> <span data-ttu-id="c2973-122">Хотя WSL 2 использует виртуальную машину, она будет управляться и работать в фоновом режиме, оставляя тот же пользовательский интерфейс, что и WSL 1.</span><span class="sxs-lookup"><span data-stu-id="c2973-122">While WSL 2 does use a VM, it will be managed and run behind the scenes leaving you with the same user experience as WSL 1.</span></span>

## <a name="increased-file-io-performance"></a><span data-ttu-id="c2973-123">Повышенная производительность операций ввода-вывода файлов</span><span class="sxs-lookup"><span data-stu-id="c2973-123">Increased file IO performance</span></span>

<span data-ttu-id="c2973-124">Операции с большими объемами файлов, такие как клон Git, NPM install, APT Update, APT upgrade и многое другое, будут выполняться заметно быстрее.</span><span class="sxs-lookup"><span data-stu-id="c2973-124">File intensive operations like git clone, npm install, apt update, apt upgrade, and more will all be noticeably faster.</span></span> <span data-ttu-id="c2973-125">Фактическое увеличение скорости будет зависеть от того, какое приложение вы используете и как оно взаимодействует с файловой системой.</span><span class="sxs-lookup"><span data-stu-id="c2973-125">The actual speed increase will depend on which app you’re running and how it is interacting with the file system.</span></span> <span data-ttu-id="c2973-126">Первоначальные версии WSL 2 запускаются до 10x быстрее по сравнению с WSL 1 при распаковке сжатого ZIP-tarball и при использовании клона 2 – 5x быстрее, если используется клонирование Git, NPM install и CMAK для различных проектов.</span><span class="sxs-lookup"><span data-stu-id="c2973-126">Initial versions of WSL 2 run up to 20x faster compared to WSL 1 when unpacking a zipped tarball, and around 2-5x faster when using git clone, npm install and cmake on various projects.</span></span>

## <a name="full-system-call-compatibility"></a><span data-ttu-id="c2973-127">Полная совместимость системных вызовов</span><span class="sxs-lookup"><span data-stu-id="c2973-127">Full System Call Compatibility</span></span>

<span data-ttu-id="c2973-128">Двоичные файлы Linux используют системные вызовы для выполнения многих функций, таких как доступ к файлам, запрос памяти, создание процессов и многое другое.</span><span class="sxs-lookup"><span data-stu-id="c2973-128">Linux binaries use system calls to perform many functions such as accessing files, requesting memory, creating processes, and more.</span></span> <span data-ttu-id="c2973-129">В то время как WSL 1 использует слой перевода, созданный группой WSL, WSL 2 включает собственный ядро Linux с полной совместимостью системных вызовов.</span><span class="sxs-lookup"><span data-stu-id="c2973-129">Whereas WSL 1 used a translation layer that was built by the WSL team, WSL 2 includes its own Linux kernel with full system call compatibility.</span></span> <span data-ttu-id="c2973-130">В этом разделе представлен целый ряд новых приложений, которые можно запускать внутри WSL, например DOCKER и др.</span><span class="sxs-lookup"><span data-stu-id="c2973-130">This introduces a whole new set of apps that you can run inside of WSL, such as Docker and more.</span></span> <span data-ttu-id="c2973-131">Кроме того, любые обновления ядра Linux можно сразу же подготовить к добавлению на компьютер, а не ждать, пока группа WSL не будет реализовывать изменения, а затем добавить их.</span><span class="sxs-lookup"><span data-stu-id="c2973-131">Additionally, any updates to the Linux kernel can be immediately ready to be added to your computer, rather than waiting for the WSL team to implement the changes and then have them added.</span></span>