---
title: Общие сведения о WSL 2
description: Общие сведения о новой архитектуре WSL 2 для подсистемы Windows для Linux
keywords: BashOnWindows, bash, wsl, wsl2, windows, подсистема Windows для Linux, windowssubsystem, ubuntu, debian, suse, windows 10, установка
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: 7122fcbd73e064871eba2ac80c727178aaf3ca7b
ms.sourcegitcommit: 5c92b820f84de57a04ab11faf4dd0d24fff6b320
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2019
ms.locfileid: "74161480"
---
# <a name="about-wsl-2"></a>Общие сведения о WSL 2

WSL 2 — это новая версия архитектуры, которая поддерживает подсистему Windows для Linux, чтобы запускать двоичные файлы Linux ELF64 в Windows. Ее основными приоритетами является увеличение производительности файловой системы и добавление полной совместимости системных вызовов. Эта новая архитектура изменяет способ взаимодействия этих двоичных файлов Linux с Windows и с оборудованием компьютера, но по-прежнему предоставляет то же взаимодействие с пользователем, что и WSL 1 (текущая общедоступная версия). Отдельные дистрибутивы Linux могут быть запущены как дистрибутив WSL 1 или WSL 2, их можно обновить или понизить уровень выпуска в любое время. Вы также можете запускать дистрибутивы WSL 1 и WSL 2 параллельно. В WSL 2 используется совершенно новая архитектура, задействованная на реальном ядре Linux.

## <a name="linux-kernel-in-wsl-2"></a>Ядро Linux в WSL 2

Ядро Linux в WSL 2 создано собственными силами на основе последней стабильной ветви источника, доступного по адресу kernel.org. Это ядро специально настроено для WSL 2. Его размер и производительность оптимизированы для обеспечения невероятного взаимодействия Linux с Windows. Оно может обслуживаться через обновления Windows. Это означает, что вы получите последние исправления безопасности и улучшения ядра без вашего участия.

Кроме того, это ядро будет иметь открытый исходный код. Полный исходный код для ядра Linux можно найти [здесь](https://github.com/microsoft/WSL2-Linux-Kernel). Если вы хотите узнать больше об этом ядре, вы можете ознакомиться с [этой записью блога](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/), опубликованной командой его создателей.

## <a name="brief-overview-of-the-wsl-2-architecture"></a>Краткий обзор архитектуры WSL 2

WSL 2 использует последнюю и самую новую технологию виртуализации для запуска ядра Linux внутри упрощенной служебной виртуальной машины. Однако WSL 2 не будет обычным интерфейсом виртуальной машины. Во время обычной работы виртуальная машина может замедляться при загрузке, изолироваться, потреблять много ресурсов и требовать время для управления. В подсистеме WSL 2 нет таких проблем. Она по-прежнему предоставляет уникальные преимущества WSL 1: высокий уровень интеграции между Windows и Linux, очень высокая скорость загрузки, небольшой объем ресурсов и, что самое важное, не нужно выполнять задачи по настройке виртуальной машины и управлению нею. Хотя WSL 2 использует виртуальную машину, она будет управляться и работать в фоновом режиме, предоставляя тот же пользовательский интерфейс, что и WSL 1.

## <a name="increased-file-io-performance"></a>Повышенная производительность операций ввода-вывода файлов

Операции с большими объемами файлов, такие как `git clone`, `npm install`, `apt update`, `apt upgrade` и другие, будут выполняться заметно быстрее. Фактическое увеличение скорости будет зависеть от того, какое приложение вы используете и как оно взаимодействует с файловой системой. Первоначальные версии WSL 2 запускаются в 20 раз быстрее по сравнению с WSL 1 при распаковке сжатого архива tarball и в 2–5 раз быстрее при использовании `git clone`, `npm install` и `cmake` в различных проектах.

## <a name="full-system-call-compatibility"></a>Полная совместимость системных вызовов

Двоичные файлы Linux используют системные вызовы для выполнения многих функций, таких как доступ к файлам, запрос памяти, создание процессов и многое другое. В то время как WSL 1 использует уровень перевода, созданный командой WSL, WSL 2 имеет собственное ядро Linux с полной совместимостью системных вызовов. Это представляет целый ряд новых приложений, которые можно запускать внутри WSL, например Docker и другие. Кроме того, любые обновления ядра Linux можно сразу же подготовить для добавления на компьютер, а не ждать, пока команда WSL реализует изменения, а затем добавит их.